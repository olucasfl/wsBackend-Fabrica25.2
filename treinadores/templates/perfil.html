<h2>{{ treinador.nome }} (Nível {{ treinador.nivel }})</h2>

<div>
  <p><strong>Idade:</strong> {{ treinador.idade }}</p>
  <p><strong>Cidade:</strong> {{ treinador.cidade }}</p>
  <form method="post" action="{% url 'treinadores:atualizar' treinador.id %}">
    {% csrf_token %}
    <button type="submit">Atualizar dados</button>
</div>

<hr />

<h3>Pokémons Capturados por {{ treinador.nome }}</h3>
<ul>
  {% for p in treinador.pokemons.all %}
  <li>
    <strong>{{ p.nome }}</strong> - Tipo(s): {{ p.tipos }}
    {% if p.sprite %}
      <br />
      <img src="{{ p.sprite }}" alt="{{ p.nome }}" style="width: 80px; height: 80px" />
    {% endif %}

    <form method="post" action="{% url 'pokemons:delete' treinador.id p.id %}" style="display:inline;">
      {% csrf_token %}
      <button type="submit">Excluir</button>
    </form>

    <a href="{% url 'pokemons:detalhes_pokemon_view' treinador.id p.nome %}">Ver detalhes</a>

  </li>
  {% empty %}
    <li>Este treinador ainda não capturou nenhum Pokémon.</li>
  {% endfor %}
</ul>

<hr />

<div>
  <p>
    <a href="{% url 'pokemons:captura' treinador.id %}">Capturar novo Pokémon</a>
  </p>
  <p><a href="{% url 'treinadores:home' %}">Voltar para a página inicial</a></p>
  <p><a href="{% url 'treinadores:lista' %}">Ver todos os treinadores registrados</a></p>
  <p></p>
  <form method="post" action="{% url 'treinadores:deletar' treinador.id %}">
    {% csrf_token %}
    <button type="submit" onclick="return confirm('Tem certeza que deseja excluir este treinador? Esta ação não pode ser desfeita.')">Excluir Treinador</button>
</div>
